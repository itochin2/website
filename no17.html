<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>地球環境と生態系・環境保全と法的規制 確認問題演習</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .progress {
            background: #f0f0f0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        .progress-bar {
            background: linear-gradient(90deg, #4CAF50, #45a049);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }
        .question-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        .question-number {
            font-weight: bold;
            color: #6c757d;
            margin-bottom: 15px;
        }
        .question-text {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        .choices {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        .choice-btn {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #dee2e6;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 16px;
            font-weight: bold;
        }
        .choice-btn:hover {
            border-color: #6c757d;
            background: #f8f9fa;
        }
        .choice-btn.selected {
            border-color: #007bff;
            background: #e7f1ff;
            color: #007bff;
        }
        .choice-btn.correct {
            border-color: #28a745;
            background: #d4edda;
            color: #155724;
        }
        .choice-btn.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }
        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }
        .result.show {
            opacity: 1;
            transform: translateY(0);
        }
        .result.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .result.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .explanation {
            margin-top: 10px;
            font-weight: normal;
            line-height: 1.5;
        }
        .score-board {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background: #e9ecef;
            border-radius: 10px;
        }
        .score {
            font-size: 24px;
            font-weight: bold;
            color: #495057;
        }
        .reset-btn {
            margin-top: 20px;
            padding: 12px 30px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.2s ease;
        }
        .reset-btn:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>生活環境と健康 確認問題-4<br>16章 地球環境と生態系<br>17章 環境保全と法的規制</h1>
        <div class="progress">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div id="questionsContainer"></div>
        <div class="score-board">
            <div class="score">正解率: <span id="scoreDisplay">0/40 (0%)</span></div>
            <button class="reset-btn" onclick="resetQuiz()">問題をシャッフルして再開</button>
        </div>
    </div>

    <script>
        const originalQuizData = [
            {q: "地球表面の約70％は，海洋で覆われている。", a: true, e: "", ai: "地球表面積の約71%が海洋で覆われており、残り29%が陸地です。この海洋は地球の気候調節、水循環、生態系維持において重要な役割を果たしています。海洋は太陽エネルギーの約70%を吸収し、地球の温度を安定化させています。", goro: ""},
            {q: "大気や土壌は，生態系の構成要素である。", a: true, e: "", ai: "生態系は生物的要素（動植物、微生物）と非生物的要素（大気、土壌、水、気候など）から構成されます。大気は酸素や二酸化炭素の供給源、土壌は植物の栄養源として、生態系の基盤を支えています。", goro: ""},
            {q: "気圏の構成元素のうち，存在比の最も大きいのは酸素である。", a: false, e: "窒素", ai: "大気の組成は窒素約78%、酸素約21%、アルゴン約0.93%、二酸化炭素約0.04%の順です。窒素は化学的に安定で反応しにくいため大気中に蓄積され、最も多い成分となっています。", goro: "大気は「なっ（78%）、にー（21%）」で窒素、酸素"},
            {q: "生態系における栄養物質の流れは，生産者 → 分解者 → 消費者 である。", a: false, e: "生産者 → 消費者 → 分解者", ai: "生態系での物質循環は、生産者（植物）が光合成で有機物を作り、一次消費者（草食動物）、二次消費者（肉食動物）へと流れ、最終的に分解者（細菌・菌類）が有機物を無機物に戻します。", goro: "物質の流れは「生産→消費→分解」"},
            {q: "一般に，細菌は生産者としてみなされる。", a: false, e: "分解者", ai: "細菌の多くは分解者として機能し、動植物の死骸や排泄物を分解して無機物に戻します。ただし、化学合成細菌や一部の光合成細菌は生産者として分類される例外もあります。", goro: ""},
            {q: "生産者は従属栄養生物である。", a: false, e: "独立栄養生物", ai: "生産者（植物、藻類など）は光合成により無機物から有機物を合成する独立栄養生物です。一方、消費者や分解者は他の生物が作った有機物を利用する従属栄養生物です。", goro: "生産者は「独立」、消費者は「従属」"},
            {q: "硝化細菌（亜硝酸菌、硝酸菌）は，光合成を行わない独立栄養生物である。", a: true, e: "", ai: "硝化細菌は化学合成独立栄養生物で、アンモニアや亜硝酸を酸化してエネルギーを得て、二酸化炭素から有機物を合成します。光合成は行いませんが、化学合成により独立栄養生活を営んでいます。", goro: ""},
            {q: "濃縮係数は，物質の生体内濃度を環境中濃度で除して表される。", a: true, e: "", ai: "濃縮係数（生物濃縮係数）= 生体内濃度 ÷ 環境中濃度で算出されます。この値が1より大きいほど生物濃縮しやすく、脂溶性で分解されにくい物質ほど高い値を示します。", goro: ""},
            {q: "濃縮係数が１を超える物質は，生体内に蓄積しにくいと考えられる。", a: false, e: "蓄積しやすい", ai: "濃縮係数が1を超える物質は環境中よりも生体内で高濃度になることを意味し、生物濃縮が起こりやすいことを示します。DDTやPCBなど脂溶性の残留性有機汚染物質がその例です。", goro: "濃縮係数1超「蓄積しやすい」"},
            {q: "濃縮係数は，オクタノール／水 分配係数に対して負の相関を示す。", a: false, e: "正の相関", ai: "オクタノール/水分配係数が高い物質（脂溶性が高い）ほど、生体の脂肪組織に蓄積しやすく、濃縮係数も高くなります。両者は正の相関関係にあります。", goro: ""},
            {q: "ウィーン条約は，生物多様性の保全に関する条約である。", a: false, e: "ウィーン条約：オゾン層の保護，ワシントン条約：生物多様性の保全", ai: "ウィーン条約（1985年）はオゾン層保護に関する条約で、生物多様性保全はワシントン条約（CITES）やCBD（生物多様性条約）が対象です。ウィーン条約はモントリオール議定書の基盤となりました。", goro: "ウィーンは「オゾン」、ワシントンは「生物」"},
            {q: "成層圏のオゾン層は，太陽から届くすべての紫外線を吸収する。", a: false, e: "290 nm以下の紫外線", ai: "オゾン層は主に波長290nm以下の有害なUV-Cと一部のUV-Bを吸収しますが、すべての紫外線を吸収するわけではありません。320nm以上のUV-Aはほとんど吸収されずに地表に到達します。", goro: ""},
            {q: "カルタヘナ議定書は、遺伝子組換え生物等が生物の多様性の保全に及ぼす悪影響を防止するための条約である。", a: true, e: "", ai: "カルタヘナ議定書（2000年採択）は生物多様性条約の議定書で、遺伝子組換え生物（LMO）の国際移動に関する安全性を確保し、生物多様性への悪影響を防止することを目的としています。", goro: ""},
            {q: "フロンによるオゾン破壊作用は，フロンから生じるフッ素ラジカルによる。", a: false, e: "塩素ラジカル", ai: "フロン（CFC）のオゾン破壊は、紫外線により分解されて生じる塩素ラジカル（Cl・）によります。塩素ラジカルは触媒的にオゾンを分解し、1個の塩素原子が数万個のオゾン分子を破壊します。", goro: "フロンの破壊は「塩素ラジカル」"},
            {q: "一般に，ハロンはフロンよりオゾン破壊作用が大きい。", a: true, e: "", ai: "ハロン（臭素を含む化合物）はフロン（塩素系）よりもオゾン破壊係数が高く、より強力なオゾン破壊作用を持ちます。臭素ラジカルは塩素ラジカルよりも効率的にオゾンを破壊するためです。", goro: ""},
            {q: "ハイドロフルオロカーボン（HFC）は，オゾン破壊作用を有するが温室効果作用は有しない。", a: false, e: "HFCは，オゾン破壊作用は有しないが温室効果作用は有する", ai: "HFCは塩素を含まないためオゾン破壊作用はありませんが、強力な温室効果ガスです。地球温暖化係数は二酸化炭素の数百～数千倍と非常に高く、京都議定書でも規制対象となっています。", goro: "HFCは「オゾン破壊×、温室効果○」"},
            {q: "ハイドロクロロフルオロカーボン（HCFC）は、オゾン破壊作用は有しない。", a: false, e: "HCFCは，オゾン破壊作用を有する", ai: "HCFC（ハイドロクロロフルオロカーボン）は塩素を含むためオゾン破壊作用を有しますが、CFCより作用は小さいです。モントリオール議定書により段階的廃止が進められています。", goro: "HCFCは「クロロ」→塩素→オゾン破壊"},
            {q: "温室効果ガスによる地球温暖化作用は，紫外線による。", a: false, e: "赤外線", ai: "温室効果ガスは地表から放出される長波長の赤外線（熱放射）を吸収し、再放射することで大気を温暖化させます。紫外線は短波長で、温暖化の直接的な原因ではありません。", goro: "温暖化は「赤外線」を覚える"},
            {q: "二酸化炭素は，メタンより高い地球温暖化係数（ポテンシャル）を有する。", a: false, e: "CO2は，メタンより寄与度は高いがポテンシャルは低い", ai: "地球温暖化係数（GWP）はCO2を1とした相対値で、メタンは約25倍です。ただし、大気中濃度はCO2の方がはるかに高いため、温暖化への総寄与度はCO2が最大です。", goro: "メタンは「ポテンシャル高、濃度低」"},
            {q: "京都議定書では，クロロフルオロカーボン（CFC）も温室効果ガスに指定されている。", a: false, e: "CFCは指定されていない．対象ガス：CO2，CH4，N2O，代替フロン（HFC，PFC，SF6）", ai: "京都議定書の対象は6種類の温室効果ガス（CO2、CH4、N2O、HFC、PFC、SF6）で、CFCは含まれていません。CFCはモントリオール議定書でオゾン層破壊物質として規制されています。", goro: "京都議定書は「CFC除く6ガス」"},
            {q: "パリ協定は，京都議定書に代わる地球温暖化対策の新たな国際的枠組みである。", a: true, e: "", ai: "パリ協定（2015年採択、2016年発効）は京都議定書に続く地球温暖化対策の国際枠組みで、世界の平均気温上昇を2℃未満、できれば1.5℃未満に抑制することを目標としています。", goro: ""},
            {q: "酸性雨は，pH 3.2以下の雨滴のことをいう。", a: false, e: "pH 5.6", ai: "純水と平衡にある大気中のCO2によりpH約5.6となるため、これ以下を酸性雨と定義します。pH3.2は非常に強い酸性で、実際の酸性雨の定義基準ではありません。", goro: "酸性雨は「5.6以下」"},
            {q: "酸性雨の主な原因は，化石燃料の燃焼により発生した硫黄酸化物と窒素酸化物である。", a: true, e: "", ai: "化石燃料の燃焼で発生するSO2とNOxが大気中で硫酸や硝酸に変化し、酸性雨の原因となります。これらは越境汚染として国際的な環境問題となっています。", goro: ""},
            {q: "ダイオキシン類は，ストックホルム条約（POPs条約）の規制対象物質である。", a: true, e: "", ai: "ストックホルム条約（2001年採択）は残留性有機汚染物質（POPs）を規制する国際条約で、ダイオキシン類も対象物質の一つです。POPsは環境中で分解されにくく、生物濃縮しやすい特性があります。", goro: ""},
            {q: "典型七公害のうち，近年に最も多い苦情は悪臭である。", a: false, e: "騒音", ai: "公害苦情の推移では、近年は騒音が最も多く、次いで悪臭、大気汚染の順となっています。都市化の進展により生活騒音への関心が高まっていることが背景にあります。", goro: "近年の苦情トップは「騒音」"},
            {q: "イタイイタイ病は，石油コンビナートによる大気汚染が原因である。", a: false, e: "鉱業所からの排水に含まれるカドミウム", ai: "イタイイタイ病は富山県神通川流域で発生したカドミウム中毒で、神岡鉱山からの排水中のカドミウムが原因でした。石油コンビナートが原因なのは四日市ぜんそくです。", goro: "イタイイタイ病は「カドミウム」"},
            {q: "水俣病患者では，ハンター・ラッセル症候群（中枢神経障害）が認められる。", a: true, e: "", ai: "水俣病はメチル水銀中毒による中枢神経系の障害で、ハンター・ラッセル症候群として知られる症状（求心性視野狭窄、運動失調、感覚障害など）が特徴的です。", goro: ""},
            {q: "四日市ぜんそくの原因は，主に窒素酸化物である。", a: false, e: "硫黄酸化物", ai: "四日市ぜんそくは1960年代の石油化学コンビナートからの硫黄酸化物（SO2）による大気汚染が主原因でした。この事件が大気汚染防止法制定の契機となりました。", goro: "四日市ぜんそくは「硫黄酸化物」"},
            {q: "化審法は，カネミ油症を契機に制定された。", a: true, e: "", ai: "化学物質審査規制法（化審法）は1973年、カネミ油症事件（PCB中毒）を受けて制定されました。新規化学物質の事前審査制度を導入し、有害化学物質の製造・使用を規制しています。", goro: ""},
            {q: "環境基本法では，日常生活に伴う環境への負荷の低減に努めるのは行政の役割と記載されている。", a: false, e: "国民：日常生活での環境への負荷軽減，施策への協力，国：さまざまな政策・施策の立案", ai: "環境基本法では、国民は日常生活での環境負荷軽減と施策への協力、国は政策・施策の立案・実施が役割として定められています。国民の責務として環境保全への取り組みが求められています。", goro: ""},
            {q: "環境基準とは，工場等からの大気や水質などの排出濃度を規制するための基準である。", a: false, e: "環境基準：行政が様々な環境保全のための施策を行うときの目標とすべきもの", ai: "環境基準は「人の健康の保護及び生活環境の保全のうえで維持されることが望ましい基準」で、行政目標です。工場等の排出規制は排出基準（規制基準）で行われます。", goro: "環境基準は「目標」、排出基準は「規制」"},
            {q: "環境基準における浮遊粒子状物質（SPM）とは，粒径10µm以下の浮遊するものをいう。", a: true, e: "", ai: "SPM（Suspended Particulate Matter）は粒径10μm以下の大気中浮遊粒子状物質と定義されています。PM2.5（粒径2.5μm以下）よりも粗い粒子を含む概念です。", goro: ""},
            {q: "水質汚濁の人の健康の保護に関する環境基準では，全シアン，アルキル水銀，PCBが「検出されないこと」とされている。", a: true, e: "", ai: "人の健康の保護に関する環境基準では、全シアン、アルキル水銀、PCBは毒性が強いため「検出されないこと」という最も厳しい基準が設定されています。", goro: ""},
            {q: "水質汚濁の生活環境の保全に関する環境基準では，河川に全窒素と全リンの環境基準が設定されている。", a: false, e: "湖沼・海域", ai: "全窒素・全リンの環境基準は富栄養化が問題となる湖沼と海域に設定されており、河川には設定されていません。河川ではBODが主要な指標として用いられます。", goro: "全窒素・全リンは「湖沼・海域」のみ"},
            {q: "土壌汚染に係る環境基準では、全シアン，カドミウム，PCBが「検出されないこと」とされている。", a: false, e: "検出されないこと：全シアン，有機リン，アルキル水銀，PCB", ai: "土壌汚染環境基準で「検出されないこと」とされているのは、全シアン、有機リン、アルキル水銀、PCBです。カドミウムには数値基準が設定されています。", goro: "土壌「検出されないこと」：全シアン、有機リン、アルキル水銀、PCB"},
            {q: "騒音の単位にはデシベルが用いられている。", a: true, e: "", ai: "騒音レベルはデシベル（dB）で表示されます。人間の聴覚特性に合わせたA特性音圧レベル（dB(A)）が一般的に使用され、環境基準や規制基準もこの単位で設定されています。", goro: ""},
            {q: "大気汚染防止法の硫黄酸化物の排出量は、地域ごとに定められたK値によって規制される。", a: true, e: "", ai: "硫黄酸化物の排出規制では、煙突の高さと地域のK値から算出される排出量で規制されます。K値は地域の大気拡散能力を示し、拡散しにくい地域ほど小さな値が設定されています。", goro: ""},
            {q: "窒素酸化物は，K値規制の対象である。", a: false, e: "硫黄酸化物", ai: "K値規制は硫黄酸化物に適用される制度で、窒素酸化物には適用されません。NOxは濃度規制や総量規制の対象となっています。", goro: "K値規制は「硫黄酸化物のみ」"},
            {q: "自動車NOx·PM法では，首都圏などの特定の地域を対象に車種規制が実施されている。", a: true, e: "", ai: "自動車NOx・PM法は首都圏、阪神圏、中京圏の特定地域で、環境基準達成が困難な地域を対象に車種規制（排出基準に適合しない車両の使用禁止）を実施しています。", goro: ""},
            {q: "自動車NOx·PM法では，中古車も含め，全ての車を対象に規制を行っている。", a: false, e: "トラック、バス等（ディーゼル車、ガソリン車、LPG車）、ディーゼル車乗用車が対象", ai: "自動車NOx・PM法の車種規制対象は、トラック・バス等の事業用車両（燃料問わず）とディーゼル乗用車に限定されており、ガソリン乗用車は対象外です。すべての車両が対象ではありません。", goro: "NOx・PM法対象：「トラック・バス全部、乗用車はディーゼルのみ」"}
        ];

        let quizData = [];
        let userAnswers = [];

        // 配列をシャッフルする関数
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // クイズを初期化する関数
        function initializeQuiz() {
            quizData = shuffleArray(originalQuizData);
            userAnswers = new Array(quizData.length).fill(null);
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            quizData.forEach((item, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-card';
                questionDiv.innerHTML = `
                    <div class="question-number">問題 ${index + 1}</div>
                    <div class="question-text">${item.q}</div>
                    <div class="choices">
                        <button class="choice-btn" onclick="selectAnswer(${index}, true)">○</button>
                        <button class="choice-btn" onclick="selectAnswer(${index}, false)">×</button>
                    </div>
                    <div class="result" id="result-${index}"></div>
                `;
                container.appendChild(questionDiv);
            });
            updateScore();
        }

        function selectAnswer(questionIndex, userChoice) {
            if (userAnswers[questionIndex] !== null) return;

            userAnswers[questionIndex] = userChoice;
            const isCorrect = userChoice === quizData[questionIndex].a;
            
            const questionCard = document.querySelectorAll('.question-card')[questionIndex];
            const buttons = questionCard.querySelectorAll('.choice-btn');
            const resultDiv = document.getElementById(`result-${questionIndex}`);

            buttons.forEach((btn, btnIndex) => {
                const btnValue = btnIndex === 0;
                btn.disabled = true;
                
                if (btnValue === userChoice) {
                    btn.classList.add(isCorrect ? 'correct' : 'incorrect');
                } else if (btnValue === quizData[questionIndex].a) {
                    btn.classList.add('correct');
                }
            });

            const explanation = quizData[questionIndex].e ? 
                `<div class="explanation">${quizData[questionIndex].e}</div>` : '';
            
            const aiExplanation = quizData[questionIndex].ai ? 
                `<div class="explanation"><strong>＜AI解説＞</strong><br>${quizData[questionIndex].ai}</div>` : '';
            
            const goroExplanation = quizData[questionIndex].goro ? 
                `<div class="explanation"><strong>＜語呂合わせ＞</strong><br>${quizData[questionIndex].goro}</div>` : '';
            
            resultDiv.innerHTML = `
                ${isCorrect ? '✓ 正解' : '✗ 不正解'}
                ${explanation}
                ${aiExplanation}
                ${goroExplanation}
            `;
            resultDiv.className = `result ${isCorrect ? 'correct' : 'incorrect'} show`;

            updateScore();
            updateProgress();
        }

        function updateScore() {
            const answered = userAnswers.filter(a => a !== null).length;
            const correct = userAnswers.filter((a, i) => a === quizData[i].a).length;
            const percentage = answered > 0 ? Math.round((correct / answered) * 100) : 0;
            document.getElementById('scoreDisplay').textContent = `${correct}/${answered} (${percentage}%)`;
        }

        function updateProgress() {
            const answered = userAnswers.filter(a => a !== null).length;
            const percentage = (answered / quizData.length) * 100;
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        function resetQuiz() {
            initializeQuiz();
            renderQuestions();
            updateProgress();
        }

        // 初期化
        initializeQuiz();
        renderQuestions();
    </script>
</body>
</html>